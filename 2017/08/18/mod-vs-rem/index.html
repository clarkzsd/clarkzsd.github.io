<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="VENI VIDI VICI.">
    <meta name="keyword"  content="Sytone&#39;s Blog">
    
    <title>取模和取余的区别以及 JS 中的取模运算问题 | Impromptu</title>
    
        <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    


    <!-- font-awosome -->
    <link href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>
    <main class="site-main">
        <header class="post-header outer ">
    <div class="inner">
        <div class="blog-logo-wrapper">
            <a href="/" class="blog-logo">
                Impromptu
            </a>
        </div>
        <div class="post-header-content">
            <h1 class="post-title">
                取模和取余的区别以及 JS 中的取模运算问题
            </h1>
            <p class="post-meta">
                <span>
                    2017-08-18
                </span>
                
                    <span class="meta-divider">/</span>
                    <span>
                        
                            <a class="tag" href="/tags/JavaScript" title="JavaScript">JavaScript</a>
                        
                    </span>
                
            </p>
            
        </div>
    </div>
</header>

<article class="post outer">
    <div class="inner">
        <section class="post-content">
            <h3 id="取模-VS-取余"><a href="#取模-VS-取余" class="headerlink" title="取模 VS 取余"></a>取模 VS 取余</h3><p>取模运算（Modulo Operation）属于计算机术语，运算符为<code>%</code>。取余运算（Complementation ）就是平常数学运算中的求余数。它们两个概念有重叠的部分但又不完全一致。</p>
<p>先来看看除法运算中求余数的整个过程，a、b、c 和 d 分别为被除数、除数、商和被除数。</p>
<ol>
<li>求商：c = a / b;</li>
<li>求模或者余数：r =  a - c * b;</li>
</ol>
<p>取模和取余的区别体现在第一步：取余运算在求 c 时，向 0 方向舍弃小数位；取模运算则向<code>-∞</code>方向舍弃小数位。所以，当a 和 b 中其一为负数时，取模和取余的运算结果就不同了。例如：</p>
<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">9 </span>/ (-<span class="number">4</span>) = -<span class="number">2.25</span></span><br></pre></td></tr></table></figure>
<p>取余运算就会把 c 取做 -2 ，运算结果为 1；取模运算则把 c 取做 -3，运算结果为 -3；</p>
<h3 id="JS-中的"><a href="#JS-中的" class="headerlink" title="JS 中的%"></a>JS 中的<code>%</code></h3><p>一般来讲，计算机语言中的<code>%</code>运算符代表的都是取模运算，然而在 JavaScript 中，<code>%</code>代表的是取余运算。</p>
<p><img src="http://o6ljw8wcq.bkt.clouddn.com/blog/mod.png" alt="node 环境下的 % 运算和 python 环境下的 % 运算"></p>
<p>所以，在写 JS 时遇到这个问题不要慌，这不是个 bug，而是个 feature……</p>
<h3 id="在-JS-中进行取模运算："><a href="#在-JS-中进行取模运算：" class="headerlink" title="在 JS 中进行取模运算："></a>在 JS 中进行取模运算：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.prototype.mod = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> ((<span class="keyword">this</span> % n) + n) % n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h4><ol>
<li><a href="https://stackoverflow.com/questions/4467539/javascript-modulo-not-behaving#comment43942831_4467539" target="_blank" rel="noopener">Stackoverflow:javascript-modulo-not-behaving</a></li>
</ol>

        </section>
        <section class="post-comment">
  


</section>
    </div>
</article>
    </main>
    <footer>
    <div class="blog-footer site-footer">
      <span class="copyright">
        Copyright © Impromptu 2018
      </span>
      <nav class="footer-nav nav-links">
        
            <a class="footer-nav-link" href="/">Home</a>
        
            <a class="footer-nav-link" href="/about">About</a>
        
            <a class="footer-nav-link" href="/archives">Archives</a>
        
      </nav>
    </div>
    <div class="credits-footer site-footer">
      <span class="credit-theme">
         Theme - 
        <a href="https://github.com/clarkzsd/hexo-theme-impromptu">Impromptu</a> By <a href="https://github.com/clarkzsd">Sytone</a>
      </span>
      <span class="credit-platform">
          Published with Hexo
      </span>
    </div>
</footer>
    


</body>
</html>